<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Välj Spel</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>X01-variant</h1>
        <div class="button-grid" id="game-options">
            <button class="main-btn" onclick="selectGame(301, this)">301</button>
            <button class="main-btn" onclick="selectGame(501, this)">501</button>
            <button class="main-btn" onclick="selectGame(701, this)">701</button>
            <button class="main-btn" onclick="selectGame(1001, this)">1001</button>
        </div>

        <h2>Ingång</h2>
        <div class="button-grid" id="difficulty-options">
            <button class="main-btn" onclick="selectDifficulty('straight-in', this)">Straight-In</button>
            <button class="main-btn" onclick="selectDifficulty('double-in', this)">Double-In</button>
            <button class="main-btn" onclick="selectDifficulty('master-in', this)">Master-In</button>
        </div>

        <h2>Avslut</h2>
        <div class="button-grid" id="endrule-options">
            <button class="main-btn" onclick="selectEndRule('straight-out', this)">Straight-Out</button>
            <button class="main-btn" onclick="selectEndRule('double-out', this)">Double-Out</button>
            <button class="main-btn" onclick="selectEndRule('master-out', this)">Master-Out</button>
        </div>

        <button class="next-btn" onclick="startGame()">Starta Spelet</button>
    </div>

    <script>
        let selectedGame = null;
        let selectedDifficulty = "straight-in";
        let selectedEndRule = "double-out";

        function selectGame(game, element) {
            selectedGame = game;
            localStorage.setItem("gameScore", game);
            highlightSelection(element, "game-options");
        }

        function selectDifficulty(difficulty, element) {
            selectedDifficulty = difficulty;
            localStorage.setItem("gameDifficulty", difficulty);
            highlightSelection(element, "difficulty-options");
        }

        function selectEndRule(rule, element) {
            selectedEndRule = rule;
            localStorage.setItem("gameEndRule", rule);
            highlightSelection(element, "endrule-options");
        }

        function highlightSelection(selectedElement, parentId) {
            let buttons = document.getElementById(parentId).getElementsByTagName("button");
            for (let btn of buttons) {
                btn.classList.remove("selected");
            }
            selectedElement.classList.add("selected");
        }

        function startGame() {
            if (!selectedGame) {
                alert("Välj en X01-variant innan du startar spelet.");
                return;
            }
            window.location.href = "players.html";
        }
    </script>
</body>
</html>
